MVC.addView("home.banner",function(e,s){var n=$("#app .banner"),o=e.get("home.banner"),i=['<ul class="banner-img">{#bannerImg#}</ul>','<ul class="banner-btn"><li class="pre"><</li>{#bannerBtn#}<li class="next">></li></ul>',"<h1>{#title#}</h1>"].join(""),l='<li class="{#isChoose#}"><img src="modules/home/banner/{#src#}.jpg" /><p>{#intro#}</p></li>',a='<li class="{#isChoose#}" ></li>',r=imgHtml=btnHtml="";o.list.forEach(function(e,n){imgHtml+=s(l,{isChoose:0===n?"choose":"",src:e.src,intro:e.intro}),btnHtml+=s(a,{isChoose:0===n?"choose":""})});var r=s(i,{bannerImg:imgHtml,bannerBtn:btnHtml,title:o.title});return n.html(r),n}).addCtrl("home.banner",function(e,s,n){n.regist("homeComplete",function(){s.create("home.banner");var e=0,n=1;$(".next").click(function(){e++,n++,e>3&&(e=0),n>4&&(n=1),$(".banner-img li").eq(e).addClass("choose").siblings().removeClass("choose"),$(".banner-btn li").eq(n).addClass("choose").siblings().removeClass("choose")}),$(".pre").click(function(){e--,n--,0>e&&(e=3),1>n&&(n=4),$(".banner-img li").eq(e).addClass("choose").siblings().removeClass("choose"),$(".banner-btn li").eq(n).addClass("choose").siblings().removeClass("choose")}),$(".banner-btn li").filter(function(e){return e>0&&5>e}).click(function(){n=$(".banner-btn li").index($(this)),e=n-1,$(".banner-img li").eq(e).addClass("choose").siblings().removeClass("choose"),$(".banner-btn li").eq(n).addClass("choose").siblings().removeClass("choose")});var o=setInterval(function(){e++,n++,e>3&&(e=0),n>4&&(n=1),$(".banner-img li").eq(e).addClass("choose").siblings().removeClass("choose"),$(".banner-btn li").eq(n).addClass("choose").siblings().removeClass("choose")},4e3);$(".banner-img").hover(function(){clearInterval(o)},function(){o=setInterval(function(){e++,n++,e>3&&(e=0),n>4&&(n=1),$(".banner-img li").eq(e).addClass("choose").siblings().removeClass("choose"),$(".banner-btn li").eq(n).addClass("choose").siblings().removeClass("choose")},4e3)})})});