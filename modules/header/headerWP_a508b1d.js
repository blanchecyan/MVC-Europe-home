MVC.addView("header",function(e,n){var i=$("#header"),l=e.get("header"),t=["<div class='inner'>","<div class='logo-container'>","<img src='modules/header/logo.png' class='logo' />","<ul>{#iconUl#}</ul>","</div>","<ul class='nav'>{#navHtml#}</ul>","</div>"].join(""),a="<li><a href='{#href#}'><img src = 'modules/header/{#img#}'</a></li>",r="<li class='{#cls#}'><a href='{#href#}'>{#title#}</a>{#childList#}</li>",o="<ul class = 'inner-nav'>{#navHtml#}</ul>",c=iconHTML=navHtml=innerNavHtml="";return l.icon.forEach(function(e){iconHTML+=n(a,e)}),l.nav.forEach(function(e){e.list?(innerNavHtml="",e.list.forEach(function(e){innerNavHtml+=n(r,{cls:"inner-nav-item",href:e.href,title:e.title,childList:""})}),innerNavHtml=n(o,{navHtml:innerNavHtml})):innerNavHtml="",navHtml+=n(r,{cls:"nav-item",href:e.href,title:e.title,childList:innerNavHtml})}),c=n(t,{iconUl:iconHTML,navHtml:navHtml}),i.html(c),i}).addCtrl("header",function(e,n){function i(){var e=n.create("header");e.delegate(".nav-item","mouseenter",function(){$(this).find("ul").stop().slideDown(200)}).delegate(".nav-item","mouseleave",function(){$(this).find("ul").stop().slideUp(200)})}$.get("data/header.json",function(n){n&&0===n.errno&&(e.add("header",n.data),i())})});