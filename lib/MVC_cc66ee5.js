!function(r){var t={},n={};t.Model={get:function(r){for(var t=r.replace(/^M\.|^\./,"").split("."),e=n,i=0;i<t.length;i++){if(void 0===e[t[i]])return null;e=e[t[i]]}return e},add:function(r,t){for(var e=r.replace(/^M\.|^\./,"").split("."),i=n,o=0;o<e.length-1;o++){if(void 0!==i[e[o]]&&"object"!=typeof i[e[o]]||null===i[e[o]])throw new Error(typeof i[e[o]]+"类型的数据，不能添加属性，值是:"+i[e[o]]);void 0===i[e[o]]&&(i[e[o]]={}),i=i[e[o]]}return i[e[o]]=t,this}};var e={};t.View={add:function(r,t){return e[r]=t,this},create:function(r){if(e[r]){var n=e[r].call(t,t.Model,t.template);return n}}};var i={};t.Controller={add:function(r,t){return i[r]=t,this},init:function(){for(var r in i)i[r].call(t,t.Model,t.View,t.Observer)}},t.template=function(r,t){return r.replace(/\{#([\w\.]+)#\}/g,function(r,n){for(var e=n.split("."),i=t,o=0;o<e.length;o++){if(void 0===i[e[o]])return"";i=i[e[o]]}return i})};var o={};t.Observer={regist:function(r,t){o[r]?o[r].push(t):o[r]=[t]},fire:function(r){var t=[].slice.call(arguments,0);if(o[r])for(var n=0;n<o[r].length;n++)o[r][n].apply(null,t)}},t.addModel=function(r,n){return t.Model.add(r,n),this},t.get=function(r){return t.Model.get(r)},t.addView=function(r,n){return t.View.add(r,n),this},t.create=function(r){return t.View.create(r)},t.addCtrl=function(r,n){return t.Controller.add(r,n),this},t.install=function(){$(function(){t.Controller.init()})},r.MVC=t}(window);